<!DOCTYPE html>
<html lang="en" class="h-100">
  <head>
    <title>Double Bubble - A Coding Project By Trond Stolsvik</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <!--Font Awesome -->
    <script
      src="https://kit.fontawesome.com/803907c484.js"
      crossorigin="anonymous"
    ></script>

    <!-- Icon -->
    <link href="img/s-64.ico" type="image/icon" rel="icon" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU"
      crossorigin="anonymous"
    />

    <!-- Prism CSS -->
    <link rel="stylesheet" href="css/prism.css" />

    <!-- Custom Styles -->
    <link rel="stylesheet" href="css/styles.css" />
  </head>

  <body class="d-flex flex-column h-100 bg-light">
    <!-- NAV Section -->
    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="#"
          ><img
            src="img/s-32.png"
            alt="Stolsvik Tech Logo"
            class="d-inline-block align-text-top"
            height="24"
          />
          Double Bubble</a
        >
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarCollapse"
          aria-controls="navbarCollapse"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
          <ul class="navbar-nav me-auto mb-2 mb-md-0">
            <li class="nav-item">
              <a class="nav-link" href="index.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="app.html">The App</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="code.html"
                >The Code</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" target="_blank">Git Repo</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" target="_blank">About</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- MAIN Section -->
    <main class="flex-shrink-0">
      <div class="container py-4 px-5">
        <h2 class="border-1 border-bottom border-dark mt-5">
          The Code for Double Bubble.
        </h2>
        <div class="row">
          <div class="col-12 col-md-8">
            <pre class="line-numbers">
              <code class="language-javascript">
                function getValues() {
                  //Declare variable doubleValue and assign the value from ID doubleValue on the page
                  let doubleValue = document.getElementById("doubleValue").value;
                  //Declare variable bubbleValue and assign the value from ID bubbleValue on the page
                  let bubbleValue = document.getElementById("bubbleValue").value;
                
                  //Parse to integers
                  doubleValue = parseInt(doubleValue);
                  bubbleValue = parseInt(bubbleValue);
                
                  //Validate that the values are integers and if-else to test the truth of the values
                  //Inside if-else call doubleBubble()
                  if (Number.isInteger(doubleValue) && Number.isInteger(bubbleValue)) {
                    //Declare variable dbData and set to the value of doubleBubble(doubleValue, bubbleValue)
                    let dbData = doubleBubble(doubleValue, bubbleValue);
                
                    //Call displayData(dbData)
                    displayData(dbData);
                  } else {
                    //Else if either of doubleValue and bubbleValue are not numbers
                    //display alert prompting the user to enter integers
                    alert("You must enter integers in both fields.");
                  }
                }
                
                function doubleBubble(dValue, bValue) {
                  //Declare a blank array as returnArray
                  let returnArray = [];
                
                  //For-loop from 1 to 100
                  for (let i = 1; i <= 100; i++) {
                    //If-else evaluate each number against zero modulus of the parameters dValue and bValue
                    //First evaluate against both and push "Double Bubble" if true
                    if (i % dValue == 0 && i % bValue == 0) {
                      returnArray.push("DoubleBubble");
                      //Else-if evaluate against dValue and push "Double" if true
                    } else if (i % dValue == 0) {
                      returnArray.push("Double");
                      //Else-if evaluate against bValue and push "Bubble" if true
                    } else if (i % bValue == 0) {
                      returnArray.push("Bubble");
                      //Else-if push the i value
                    } else {
                      returnArray.push(i);
                    }
                  }
                  //Finally return the array
                  return returnArray;
                }
                
                function displayData(dbData) {
                  //Get table body element from the page
                  let tableBody = document.getElementById("results");
                
                  //Get the row from the template
                  let templateRow = document.getElementById("dbTemplate");
                
                  //Clear the table
                  tableBody.innerHTML = "";
                
                  //For-loop to append rows to the table
                  for (i = 0; i < dbData.length; i += 5) {
                    //Declare a variable tableRow and store the content of the row from the template
                    let tableRow = document.importNode(templateRow.content, true);
                
                    //Declare a variable rowCols and store only the "td" elements
                    let rowCols = tableRow.querySelectorAll("td");
                
                    //Model the row one column at a time and add a class to each column based on data in dbData
                    //Next store the content of the column as the data in dbData
                    rowCols[0].classList.add(dbData[i]);
                    rowCols[0].textContent = dbData[i];
                
                    rowCols[1].classList.add(dbData[i + 1]);
                    rowCols[1].textContent = dbData[i + 1];
                
                    rowCols[2].classList.add(dbData[i + 2]);
                    rowCols[2].textContent = dbData[i + 2];
                
                    rowCols[3].classList.add(dbData[i + 3]);
                    rowCols[3].textContent = dbData[i + 3];
                
                    rowCols[4].classList.add(dbData[i + 4]);
                    rowCols[4].textContent = dbData[i + 4];
                
                    //In the end append the tableRow to the tableBody
                    tableBody.appendChild(tableRow);
                  }
                }
                
              </code>
            </pre>
          </div>
          <div class="col-12 col-md-4">
            <p>The Code is structured in three functions.</p>
            <h5>getValues()</h5>
            <p>
              We start by declaring our variables as doubleValue and bubbleValue
              so that we can store the inputs that you want to run the program
              with.<br /><br />Next we parse the variables as integers and test
              if they are in fact integers. If they are, we call our
              doubleBubble() function and store it's data in our newly declared
              variable dbData. We pass this data to our displayData() function
              so that we can display our table on the page.<br /><br />If either
              of the inputs do not evaluate to a number, we display an alert
              prompting the user to input integers.
            </p>
            <h5>doubleBubble()</h5>
            <p>
              The doubleBubble() function is passed the data from the page
              input. We declare a variable named returnArray to store our
              information, whether it's a number or a string.<br /><br />We run
              a for-loop from 1 to 100, iterating 1 number at a time. Inside the
              loop we check with an if-else statement against the input values
              from the page.<br /><br />First we check if the number of the
              current iteration of the loop matches <b>both</b> the "Double
              value" AND the "Bubble value" and if it does, we push the string
              "DoubleBubble!" to the array.<br /><br />Next, for the numbers
              that don't match both values, we check them against one at a time,
              first the "Double value" (dValue) and then "Bubble value" (bValue)
              and push "Double" or "Bubble" respectively.<br /><br />If the
              number matches neither of the checks, we push the number.<br /><br />Finally
              we return returnArray.
            </p>
            <h5>displayData()</h5>
            <p>
              For displaying the data on the page, we start with declaring two
              variables, tableBody and templateRow to store the contents of our
              "results" ID and "dbTemplate" ID respectively.<br /><br />We also
              need to clear the HTML before we proceed to inject any data to
              it.<br /><br />Now we start a for-loop from 0 and run it for the
              length of dbData, which we know to be our entire array of numbers
              and strings. We increment this loop 5 steps at a time, because we
              have 5 columns to inject each time.<br /><br />Each time the loop
              iterates we declare the variables tableRow and rowCols anew, to
              hold the templateRow and tableRow content respectively. See the
              rowCols variable only takes the "td" elements from the
              tableRow.<br /><br />Next we have a model of the row we are
              injecting. Remember for each iteration we are injecting 5 columns
              and here we add a class to the "td" element that matches the
              number or string and we have the strings styled with CSS to make
              them bold and colored. After adding the class we add the actual
              data to be displayed to the table.<br /><br />Finally we append
              the child of the tableRow variable to the tableBody.
            </p>
          </div>
        </div>
      </div>
    </main>
    <!-- FOOTER Section -->
    <footer class="footer mt-auto py-3 bg-dark sticky-footer">
      <div class="container-fluid">
        <div class="container-fluid">
          <div class="row row-cols-1 row-cols-lg-3 gy-2">
            <div
              class="col order-last order-lg-first d-flex justify-content-center justify-content-lg-start align-items-center text-light"
            >
              <div class="text-light">
                <span>&copy; 2022</span> Trond Stolsvik
              </div>
            </div>
            <div
              class="col text-light d-flex align-items-center justify-content-center"
            >
              <img
                src="img/s-32.png"
                tølsvik
                alt="Trond Stolsvik logo"
                height="24"
              />
            </div>
            <div
              class="col d-flex align-items-center justify-content-center justify-content-lg-end"
            >
              <div class="row">
                <div class="col">
                  <a
                    href="https://www.linkedin.com/in/trond-st%C3%B8lsvik-a84978218/"
                    target="_blank"
                    ><i class="fab fa-linkedin fa-2x social"></i
                  ></a>
                </div>
                <div class="col">
                  <a href="https://twitter.com/trondstolsvik" target="_blank"
                    ><i class="fab fa-twitter fa-2x social"></i
                  ></a>
                </div>
                <div class="col">
                  <a href="https://github.com/TrondStolsvik" target="_blank"
                    ><i class="fab fa-github fa-2x social"></i
                  ></a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </footer>
    <!-- Bootstrap JS -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
      crossorigin="anonymous"
    ></script>

    <!-- Prism -->
    <script src="js/prism.js"></script>
    <script>
      Prism.plugins.NormalizeWhitespace.setDefaults({
        "remove-trailing": true,
        "remove-indent": true,
        "left-trim": true,
        "right-trim": true,
      });
    </script>

    <!-- Custom Scripts -->
  </body>
</html>
